# çµç‘ (LingFrame)

![Status](https://img.shields.io/badge/Status-Core_Implemented-green)
![License](https://img.shields.io/badge/License-Apache_2.0-blue)
![Java](https://img.shields.io/badge/Java-21-orange)
![Spring Boot](https://img.shields.io/badge/Spring_Boot-3.5.6-brightgreen)
[![Help Wanted](https://img.shields.io/badge/PRs-welcome-brightgreen)](../../pulls)

> ğŸŸ¢ **é¡¹ç›®çŠ¶æ€ï¼šæ ¸å¿ƒæ¡†æ¶å·²å®ç°**
>
> æ’ä»¶ç®¡ç†ã€çƒ­é‡è½½ã€æƒé™æ²»ç†ã€Spring Boot 3 é›†æˆç­‰æ ¸å¿ƒåŠŸèƒ½å·²å¯ç”¨ã€‚
> éƒ¨åˆ†åŸºç¡€è®¾æ–½æ’ä»¶å’Œå•å…ƒæµ‹è¯•ä»åœ¨å®Œå–„ä¸­ã€‚

---

## ğŸ“– æ„¿æ™¯

**LingFrame** æ˜¯ä¸€ä¸ªåŸºäº JVM çš„æ–°ä¸€ä»£å¾®å†…æ ¸æ’ä»¶åŒ–æ¡†æ¶ã€‚
æˆ‘ä»¬è‡´åŠ›äºä¸ºç°ä»£ Java åº”ç”¨æ„å»ºä¸€ä¸ª**å¯æ§ã€å¯æ‰©å±•ã€å¯æ¼”è¿›**çš„è¿è¡Œæ—¶ä½“ç³»ã€‚

> **ä¸€å¥è¯æ„¿æ™¯**ï¼šè®© JVM åº”ç”¨å…·å¤‡å¦‚åŒæ“ä½œç³»ç»Ÿèˆ¬çš„æ’ä»¶æ¨¡å‹å’Œå¯æ§èƒ½åŠ›ã€‚

---

## âœ… å·²å®ç°çš„æ ¸å¿ƒèƒ½åŠ›

| èƒ½åŠ›                  | è¯´æ˜                                      | æ ¸å¿ƒç±»                        |
| --------------------- | ----------------------------------------- | ----------------------------- |
| **æ’ä»¶ç”Ÿå‘½å‘¨æœŸ**      | å®‰è£…ã€å¸è½½ã€çƒ­é‡è½½ï¼Œæ”¯æŒè“ç»¿éƒ¨ç½²          | `PluginManager`, `PluginSlot` |
| **ç±»éš”ç¦»**            | Child-First ç±»åŠ è½½å™¨ + ç™½åå•å§”æ´¾         | `PluginClassLoader`           |
| **Spring ä¸Šä¸‹æ–‡éš”ç¦»** | æ¯ä¸ªæ’ä»¶ç‹¬ç«‹çš„çˆ¶å­ ApplicationContext     | `SpringPluginContainer`       |
| **æœåŠ¡æ‰©å±•**          | `@LingService` æ³¨è§£å®ç° FQSID è·¯ç”±        | `SmartServiceProxy`           |
| **æƒé™æ²»ç†**          | æ™ºèƒ½æ¨å¯¼ + `@RequiresPermission` æ˜¾å¼å£°æ˜ | `GovernanceStrategy`          |
| **å®¡è®¡è¿½è¸ª**          | `@Auditable` æ³¨è§£ + å¼‚æ­¥å®¡è®¡æ—¥å¿—          | `AuditManager`                |
| **å¼€å‘æ¨¡å¼**          | æ–‡ä»¶ç›‘å¬ + é˜²æŠ–çƒ­é‡è½½                     | `HotSwapWatcher`              |

---

## ğŸ¯ æˆ‘ä»¬è¦è§£å†³ä»€ä¹ˆé—®é¢˜

| ç—›ç‚¹                 | ç°çŠ¶å›°å¢ƒ                    | LingFrame æ–¹æ¡ˆ         |
| :------------------- | :-------------------------- | :--------------------- |
| **æ‰©å±•èƒ½åŠ›ç¼ºä¹è¾¹ç•Œ** | æ‰©å±•é€»è¾‘ä¸å†…æ ¸é«˜åº¦è€¦åˆ      | ä¸‰å±‚æ¶æ„ + ä¸Šä¸‹æ–‡éš”ç¦»  |
| **ç¼ºä¹å®‰å…¨ä»²è£**     | ä¸šåŠ¡æ¨¡å—å¯ç›´æ¥æ“ä½œ DB/Redis | é›¶ä¿¡ä»» + Core ä»£ç†é‰´æƒ |
| **åŠ¨æ€åŠ è½½èƒ½åŠ›ä¸è¶³** | åªèƒ½å¯åŠ¨æ—¶åŠ è½½              | è“ç»¿éƒ¨ç½² + çƒ­é‡è½½      |

---

## ğŸ‘¤ ç›®æ ‡ç”¨æˆ·

| åœºæ™¯                   | å…¸å‹éœ€æ±‚                                        |
| ---------------------- | ----------------------------------------------- |
| **å¯æ‰©å±•äº§å“**         | æ ¸å¿ƒäº§å“ + åŠŸèƒ½æ’ä»¶æ¨¡å¼ï¼ˆIDEã€CMSã€ä½ä»£ç å¹³å°ï¼‰ |
| **äºŒæ¬¡å¼€å‘å¹³å°**       | æä¾›æ ‡å‡†å†…æ ¸ï¼Œå…è®¸ç¬¬ä¸‰æ–¹å¼€å‘è€…æ‰©å±•åŠŸèƒ½          |
| **SaaS å¤šç§Ÿæˆ·å®šåˆ¶**    | ä¸åŒç§Ÿæˆ·å¯ç”¨ä¸åŒåŠŸèƒ½æ¨¡å—ï¼ŒæŒ‰éœ€åŠ è½½              |
| **æ’ä»¶å¸‚åœº**           | ç”¨æˆ·å¯è‡ªè¡Œå®‰è£…ã€å¸è½½ã€å‡çº§åŠŸèƒ½æ¨¡å—              |
| **å¤§å‹ç³»ç»Ÿæ¨¡å—åŒ–æ”¹é€ ** | å°†å•ä½“åº”ç”¨æ‹†åˆ†ä¸ºå¯ç‹¬ç«‹æ¼”è¿›çš„æ’ä»¶                |

---

## ğŸ’¡ æ ¸å¿ƒç†å¿µï¼šä¸‰å±‚æ¶æ„

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Coreï¼ˆä»²è£æ ¸å¿ƒï¼‰                      â”‚
â”‚         ç”Ÿå‘½å‘¨æœŸç®¡ç† Â· æƒé™æ²»ç† Â· èƒ½åŠ›è°ƒåº¦ Â· ä¸Šä¸‹æ–‡éš”ç¦»    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Infrastructure Pluginsï¼ˆåŸºç¡€è®¾æ–½å±‚ï¼‰           â”‚
â”‚              å­˜å‚¨ Â· ç¼“å­˜ Â· æ¶ˆæ¯ Â· æœç´¢                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Business Pluginsï¼ˆä¸šåŠ¡å±‚ï¼‰                   â”‚
â”‚              ç”¨æˆ·ä¸­å¿ƒ Â· è®¢å•æœåŠ¡ Â· æ”¯ä»˜æ¨¡å—               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…³é”®è®¾è®¡åŸåˆ™**ï¼š

1. **Core æ˜¯å”¯ä¸€ä»²è£è€…**ï¼šä¸æä¾›ä¸šåŠ¡èƒ½åŠ›ï¼Œåªè´Ÿè´£è°ƒåº¦ã€éš”ç¦»ä¸æƒé™æ§åˆ¶
2. **ä¸šåŠ¡æ’ä»¶"é›¶ä¿¡ä»»"**ï¼šæ‰€æœ‰èƒ½åŠ›è°ƒç”¨å¿…é¡»ç»è¿‡ Core ä»£ç†ä¸é‰´æƒ
3. **Spring ä¸Šä¸‹æ–‡éš”ç¦»**ï¼šåŸºäºçˆ¶å­ä¸Šä¸‹æ–‡å®ç°æ’ä»¶éš”ç¦»ï¼Œç¡®ä¿å¸è½½åæ— æ®‹ç•™

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Java 21+
- Maven 3.8+

### æ„å»ºé¡¹ç›®

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/lingframe/lingframe.git
cd lingframe

# ç¼–è¯‘å®‰è£…
mvn clean install -DskipTests

# è¿è¡Œç¤ºä¾‹å®¿ä¸»åº”ç”¨
cd lingframe-samples/lingframe-sample-host-app
mvn spring-boot:run
```

### åˆ›å»ºæ’ä»¶

1. åˆ›å»º Maven æ¨¡å—ï¼Œä¾èµ– `lingframe-api`
2. å®ç° `LingPlugin` æ¥å£
3. ä½¿ç”¨ `@LingService` æš´éœ²æœåŠ¡

```java
// æ’ä»¶å…¥å£
@SpringBootApplication
public class MyPlugin implements LingPlugin {
    @Override
    public void onStart(PluginContext context) {
        System.out.println("Plugin started: " + context.getPluginId());
    }
}

// æš´éœ²æœåŠ¡
@Component
public class UserService {
    @LingService(id = "query_user", desc = "æŸ¥è¯¢ç”¨æˆ·")
    public User queryUser(String userId) {
        return userRepository.findById(userId);
    }
}
```

### è°ƒç”¨å…¶ä»–æ’ä»¶æœåŠ¡

```java
// é€šè¿‡ FQSID è°ƒç”¨
Optional<User> user = context.invoke("user-plugin:query_user", userId);

// é€šè¿‡æ¥å£ç±»å‹è·å–
Optional<UserService> service = context.getService(UserService.class);
```

---

## ğŸ“¦ æ¨¡å—ç»“æ„

```
lingframe/
â”œâ”€â”€ lingframe-api/          # æ ¸å¿ƒå¥‘çº¦å±‚ï¼ˆæ¥å£ã€æ³¨è§£ï¼‰
â”œâ”€â”€ lingframe-core/         # æ¡†æ¶å®ç°ï¼ˆæ’ä»¶ç®¡ç†ã€æƒé™ã€ä»£ç†ï¼‰
â”œâ”€â”€ lingframe-bom/          # ä¾èµ–ç‰ˆæœ¬æ¸…å•
â”œâ”€â”€ lingframe-dependencies/ # ç‰ˆæœ¬ç®¡ç†çˆ¶ POM
â”œâ”€â”€ lingframe-runtime/
â”‚   â””â”€â”€ lingframe-spring-boot3-starter/  # Spring Boot 3 é›†æˆ
â”œâ”€â”€ lingframe-plugins-infra/             # åŸºç¡€è®¾æ–½æ’ä»¶ï¼ˆä¸‰å±‚æ¶æ„ä¸­é—´å±‚ï¼‰
â”‚   â”œâ”€â”€ lingframe-plugin-storage/  # å­˜å‚¨æ’ä»¶ï¼šSQL çº§æƒé™æ§åˆ¶
â”‚   â””â”€â”€ lingframe-plugin-cache/    # ç¼“å­˜æ’ä»¶ï¼ˆå¾…å®ç°ï¼‰
â””â”€â”€ lingframe-samples/
    â”œâ”€â”€ lingframe-sample-host-app/    # å®¿ä¸»åº”ç”¨ç¤ºä¾‹
    â””â”€â”€ lingframe-sample-plugin-user/ # ç¤ºä¾‹ä¸šåŠ¡æ’ä»¶
```

### ä¸‰å±‚æ¶æ„å¯¹åº”

| å±‚çº§               | æ¨¡å—                        | èŒè´£                             |
| ------------------ | --------------------------- | -------------------------------- |
| **Core**           | `lingframe-core`            | ä»²è£æ ¸å¿ƒï¼šç”Ÿå‘½å‘¨æœŸã€æƒé™ã€è°ƒåº¦   |
| **Infrastructure** | `lingframe-plugins-infra/*` | åŸºç¡€è®¾æ–½ï¼šå­˜å‚¨ã€ç¼“å­˜ã€æ¶ˆæ¯       |
| **Business**  